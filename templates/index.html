{% extends 'layout.html' %}


{% block title %}
    Home
{% endblock title %}


{% block heading %}

    <div class="username">
        <p>{{ user.username }}</p>

        <form action="/edit_username" method="post" >
            <button class="edit-username-img" type="submit">
                <img src="/static/images/pen-fill.svg" alt="edit task">
            </button>
        </form> 
    </div>

    <h1>Tasks <a href="/add_task"><img id="add-task" src="/static/images/plus-circle.svg" alt="Add Task"></a></h1>

{% endblock heading %}    


{% block content %}

    <ul class="list-group list-group-flush">

        {% for date in task_dict %}

            <h4 class="date">{{ date }}</h4>

            
            {% for data in task_dict[date] %}

                <li class="list-group-item">
                    <b>{{ data["name"] }}</b> 
                    <span class="task-details"><i>{{ data["time"] }} | {{ data["date"] }}</i></span>

                    <span task-updates>
                        <form method="get" action="/edit_task/{{ data['id'] }}">
                            <input type="hidden" name="id" value="{{ data['id'] }}">
                            <button type="submit">
                                <img class="task-updates-images edit" src="/static/images/pencil-square.svg" alt="edit task">
                            </button>
                        </form>
                        <form method="post" action="/delete_task">
                            <input type="hidden" name="id" value="{{ data['id'] }}">
                            <button type="submit">
                                <img class="task-updates-images delete" src="/static/images/trash3-fill.svg" alt=" delete task">
                            </button>
                        </form>
                    </span>
                </li>
                
            {% endfor %}
            
        {% endfor %}

    </ul>

{% endblock content %}
    
    